{% extends "base.html" %}

{% block title %}Settings{% endblock %}

{% block content %}
<main class="container py-5">
  <div class="text-center mb-5">
    <h1>Settings</h1>
    <p class="lead">Manage advanced AI settings for your session.</p>
  </div>

  <section class="card feature-card mb-4"> {# Re-using feature-card for consistent styling #}
    <div class="card-body">
      <h3 class="card-title text-center">Hugging Face API Key (session)</h3>
      <p class="card-text text-center">You can paste a Hugging Face API key here to enable advanced AI replies for your current browser session. The key is stored server-side in your session and is not committed to the repository.</p>
      <form method="post" action="/settings" class="text-center mt-3">
        <label for="hf_api_key" class="form-label visually-hidden">Hugging Face API Key</label>
        <input id="hf_api_key" name="hf_api_key" type="password" placeholder="Paste key here"
               value="{% if session.get('hf_api_key') %}{{ session.get('hf_api_key')[:4] }}...{% endif %}"
               class="form-control d-inline-block w-auto me-2" style="max-width:300px;" />
        <div class="mt-3">
          <button type="submit" class="btn btn-primary me-2">Save</button>
          <button type="submit" name="hf_api_key" value="" class="btn btn-secondary">Clear</button>
        </div>
      </form>
    </div>
  </section>

  <section class="card feature-card"> {# Re-using feature-card for consistent styling #}
    <div class="card-body">
      <h3 class="card-title text-center">Notes</h3>
      <ul class="list-unstyled text-center">
        <li>If you want the advanced mode to be available for all users on the server, set <code>HUGGINGFACE_API_KEY</code> in the environment (or in a local <code>.env</code> for development).</li>
        <li>Your session key is stored until your browser session expires or you click Clear.</li>
      </ul>
    </div>
  </section>
</main>
{% endblock %}